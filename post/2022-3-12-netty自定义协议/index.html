<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Netty自定义协议</title><link rel=stylesheet href=/css/bootstrap.min.css></head><body class="d-flex flex-column justify-content-between min-vh-100"><nav class="navbar navbar-expand-lg bg-light"><div class=container-fluid><a class=navbar-brand href=/><img src=https://simpleicons.org/icons/github.svg alt=Logo width=30 height=24 class="d-inline-block align-text-top">
Enaium's Blog</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a class=nav-link aria-current=page href=https://blog.enaium.cn/contact/>Contact</a></li><li class=nav-item><a class=nav-link aria-current=page href=https://blog.enaium.cn/about/>About</a></li></ul></div></div></nav><div style=flex:1><div class=container><div class=card><div class=card-header>Netty自定义协议</div><div class=card-body><div class=card-text><p>先写一个<code>Messsage</code>类,解码的时候将要把<code>ByteBuf</code>解码为<code>Message</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Message</span> <span style=color:#66d9ef>implements</span> Serializable <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> String data<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Message</span><span style=color:#f92672>(</span>String data<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> data<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Message{&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;data=&#39;&#34;</span> <span style=color:#f92672>+</span> data <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;\&#39;&#39;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;}&#39;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>之后创建<code>MessageCodec</code>类,继承<code>MessageToMessageCodec</code></p><p>入站为<code>ByteBuf</code>解码为<code>Message</code>,出站为<code>Message</code>编码为<code>ByteBuf</code></p><p>重写编码的解码方法</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MessageCodec</span> <span style=color:#66d9ef>extends</span> MessageToMessageCodec<span style=color:#f92672>&lt;</span>ByteBuf<span style=color:#f92672>,</span> Message<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>encode</span><span style=color:#f92672>(</span>ChannelHandlerContext channelHandlerContext<span style=color:#f92672>,</span> Message message<span style=color:#f92672>,</span> List<span style=color:#f92672>&lt;</span>Object<span style=color:#f92672>&gt;</span> list<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> Exception <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>decode</span><span style=color:#f92672>(</span>ChannelHandlerContext channelHandlerContext<span style=color:#f92672>,</span> ByteBuf byteBuf<span style=color:#f92672>,</span> List<span style=color:#f92672>&lt;</span>Object<span style=color:#f92672>&gt;</span> list<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> Exception <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>这里用四个字节表示内容的长度,最后是所有内容,这里使用JDK来序列化</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>encode</span><span style=color:#f92672>(</span>ChannelHandlerContext channelHandlerContext<span style=color:#f92672>,</span> Message message<span style=color:#f92672>,</span> List<span style=color:#f92672>&lt;</span>Object<span style=color:#f92672>&gt;</span> list<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> Exception <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    ByteBuf buffer <span style=color:#f92672>=</span> channelHandlerContext<span style=color:#f92672>.</span><span style=color:#a6e22e>alloc</span><span style=color:#f92672>().</span><span style=color:#a6e22e>buffer</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    ByteArrayOutputStream byteArrayOutputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ByteArrayOutputStream<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    ObjectOutputStream objectOutputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ObjectOutputStream<span style=color:#f92672>(</span>byteArrayOutputStream<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    objectOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>writeObject</span><span style=color:#f92672>(</span>message<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes <span style=color:#f92672>=</span> byteArrayOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>toByteArray</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    buffer<span style=color:#f92672>.</span><span style=color:#a6e22e>writeInt</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    buffer<span style=color:#f92672>.</span><span style=color:#a6e22e>writeBytes</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    list<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>buffer<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>怎么编码的就怎么解码,读取长度读取内容</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>decode</span><span style=color:#f92672>(</span>ChannelHandlerContext channelHandlerContext<span style=color:#f92672>,</span> ByteBuf byteBuf<span style=color:#f92672>,</span> List<span style=color:#f92672>&lt;</span>Object<span style=color:#f92672>&gt;</span> list<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> Exception <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> length <span style=color:#f92672>=</span> byteBuf<span style=color:#f92672>.</span><span style=color:#a6e22e>readInt</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>length<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>    byteBuf<span style=color:#f92672>.</span><span style=color:#a6e22e>readBytes</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    ObjectInputStream objectInputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ObjectInputStream<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> ByteArrayInputStream<span style=color:#f92672>(</span>bytes<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>    Message message <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Message<span style=color:#f92672>)</span> objectInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>readObject</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;message = &#34;</span> <span style=color:#f92672>+</span> message<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    list<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>message<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>一个简单的协议就写好了,现在就来测试一下</p><p>使用<code>EmbeddedChannel</code>这个<code>Channel</code>来进行测试,处理器就添加一个日志处理器和刚才写好的编解码器</p><p>写入<code>Message</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>EmbeddedChannel embeddedChannel <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> EmbeddedChannel<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> LoggingHandler<span style=color:#f92672>(</span>LogLevel<span style=color:#f92672>.</span><span style=color:#a6e22e>INFO</span><span style=color:#f92672>),</span> <span style=color:#66d9ef>new</span> MessageCodec<span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>embeddedChannel<span style=color:#f92672>.</span><span style=color:#a6e22e>writeOutbound</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Message<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;HELLO WORLD&#34;</span><span style=color:#f92672>));</span>
</span></span></code></pre></div><p>运行一下试试</p><p>写入了<code>92</code>个字节的数据,长度为<code>0x58</code>转为10进制为<code>88</code>加上长度占的<code>4</code>个字节刚好<code>92</code>个字节</p><pre tabindex=0><code>信息: [id: 0xembedded, L:embedded - R:embedded] WRITE: 92B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 00 00 00 58 ac ed 00 05 73 72 00 19 63 6e 2e 65 |...X....sr..cn.e|
|00000010| 6e 61 69 75 6d 2e 6d 65 73 73 61 67 65 2e 4d 65 |naium.message.Me|
|00000020| 73 73 61 67 65 95 ee d0 49 e2 3a be 6d 02 00 01 |ssage...I.:.m...|
|00000030| 4c 00 04 64 61 74 61 74 00 12 4c 6a 61 76 61 2f |L..datat..Ljava/|
|00000040| 6c 61 6e 67 2f 53 74 72 69 6e 67 3b 78 70 74 00 |lang/String;xpt.|
|00000050| 0b 48 45 4c 4c 4f 20 57 4f 52 4c 44             |.HELLO WORLD    |
+--------+-------------------------------------------------+----------------+
</code></pre><p>接着测试解码,这里粗暴的使用了刚才的日志</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>embeddedChannel<span style=color:#f92672>.</span><span style=color:#a6e22e>writeInbound</span><span style=color:#f92672>(</span>Unpooled<span style=color:#f92672>.</span><span style=color:#a6e22e>wrappedBuffer</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]{</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x00</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x00</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x00</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x58</span><span style=color:#f92672>,</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#ae81ff>0xac</span><span style=color:#f92672>,</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#ae81ff>0xed</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x00</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x05</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x73</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x72</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x00</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x19</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x63</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x6e</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x2e</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x65</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x6e</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x61</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x69</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x75</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x6d</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x2e</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x6d</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x65</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x73</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x73</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x61</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x67</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x65</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x2e</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x4d</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x65</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x73</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x73</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x61</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x67</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x65</span><span style=color:#f92672>,</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#ae81ff>0x95</span><span style=color:#f92672>,</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#ae81ff>0xee</span><span style=color:#f92672>,</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#ae81ff>0xd0</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x49</span><span style=color:#f92672>,</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#ae81ff>0xe2</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x3a</span><span style=color:#f92672>,</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#ae81ff>0xbe</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x6d</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x02</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x00</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x01</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x4c</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x00</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x04</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x64</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x61</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x74</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x61</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x74</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x00</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x12</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x4c</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x6a</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x61</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x76</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x61</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x2f</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x6c</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x61</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x6e</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x67</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x2f</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x53</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x74</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x72</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x69</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x6e</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x67</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x3b</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x78</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x70</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x74</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x00</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0x0b</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x48</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x45</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x4c</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x4c</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x4f</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x20</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x57</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x4f</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x52</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x4c</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0x44</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}));</span>
</span></span></code></pre></div><p>读取了92个字节,也成功解码</p><pre tabindex=0><code>信息: [id: 0xembedded, L:embedded - R:embedded] READ: 92B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 00 00 00 58 ac ed 00 05 73 72 00 19 63 6e 2e 65 |...X....sr..cn.e|
|00000010| 6e 61 69 75 6d 2e 6d 65 73 73 61 67 65 2e 4d 65 |naium.message.Me|
|00000020| 73 73 61 67 65 95 ee d0 49 e2 3a be 6d 02 00 01 |ssage...I.:.m...|
|00000030| 4c 00 04 64 61 74 61 74 00 12 4c 6a 61 76 61 2f |L..datat..Ljava/|
|00000040| 6c 61 6e 67 2f 53 74 72 69 6e 67 3b 78 70 74 00 |lang/String;xpt.|
|00000050| 0b 48 45 4c 4c 4f 20 57 4f 52 4c 44             |.HELLO WORLD    |
+--------+-------------------------------------------------+----------------+
message = Message{data=&#39;HELLO WORLD&#39;}
</code></pre><p>一个简单的协议就写好了</p><p><a href=https://www.bilibili.com/video/bv19b4y1W7S8>视频</a></p><p><a href=https://github.com/Enaium-Learn/netty-protocol>源码</a></p></div><div class="d-flex justify-content-between"><a class=text-reset href=https://blog.enaium.cn/post/2022-3-10-token-redis%E7%99%BB%E5%BD%95%E8%AE%A4%E8%AF%81/>Token+Redis登录认证</a>
<a class=text-reset href=https://blog.enaium.cn/post/2022-3-14-netty%E6%89%8B%E5%86%99rpc%E6%A1%86%E6%9E%B6/>Netty手写RPC框架</a></div></div></div></div></div><footer class="p-5 bg-dark text-white text-center"><div class=container><p class=lead>Copyright &copy; 2022 Enaium</p></div></footer><script src=/js/bootstrap.bundle.min.js></script></body></html>