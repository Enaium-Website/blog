<!doctype html><html><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Minecraft模组加载器开发教程#1基本介绍</title>
<link rel=stylesheet href=/css/bootstrap.min.css></head><body class="d-flex flex-column justify-content-between min-vh-100"><nav class="navbar navbar-expand-lg bg-light"><div class=container-fluid><a class=navbar-brand href=/><img src=https://simpleicons.org/icons/github.svg alt=Logo width=30 height=24 class="d-inline-block align-text-top">
Enaium's Blog
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a class=nav-link aria-current=page href=https://blog.enaium.cn/contact/>Contact</a></li><li class=nav-item><a class=nav-link aria-current=page href=https://blog.enaium.cn/about/>About</a></li></ul></div></div></nav><div style=flex:1><div class=container><div class=card><div class=card-header>Minecraft模组加载器开发教程#1基本介绍</div><div class=card-body><div class=card-text><p>学习之前，应该先了解一下这些东西</p><p>一、 什么是模组加载器</p><p>二、 他们是如何修改Minecraft的</p><p>三、 修改Minecraft的原理是什么</p><p>四、 什么是混淆</p><p>五、 如何修改Minecraft</p><p>1． 类似于Fabric、Forge，等等，这些都是模组加载器</p><p>2． 他们都会通过重新设置类加载器，而重新加载所有类，除了java.lang，java.xxx 之类的核心类，因为java不允许这些类重新加载，当然也可以通过bootclasspath来强制修改java核心类，这些都是后话了, 我们可以使用Mojang官方的LegacyLauncher，这个依赖来在运行的时候重新加载，但年代太久没更新，已经不支持Java9以上的版本，不过修复它也很简单</p><p>3． 当类被重新加载的时候，有一个过程，会将二进制文件读取，在读取后我们可以对它进行修改，可以通过ASM等框架，或者基于ASM框架的Mixin框架，之前我制作过这些ASM和Mixin的基础视频</p><p>4． 混淆就是把一个类名或者其他可见名，改为不能分辨的名字，比如一个Minecraft类，混淆之后会变成abc这个名字，并且所有的包名都会被去掉， Minecraft原版Jar文件都是混淆后的，只有类名、方法名、字段名被混淆了，再加上近几年官方都在放出每个版本的混淆映射，我们可以通过映射来返混淆，映射就是把每个混淆的名字，告诉你它之前是什么名字，Mojang不允许我们把反混淆后的源码放出来，所以一些客户端比如LiquidBounce使用Forge以Mod的形式来修改客户端</p><p>5． 我们可以先把Jar反混淆，之后我们依赖这个类，这样我们就可以正常依赖这个Jar，之后在用官方给的映射列表把写好的东西给重新混淆，这仅仅是不行的，我们还需要修改Java类，使用ASM或者Mixin，比如需要在游戏的onUpdate等方法里插入调用，来实现事件Event，这些操作都需要Gradle来完成，可以写一个Gradle插件来帮我们完成这些操作，比如在编译之后打包Jar之前，我们就可以对这些类重新混淆</p></div><div class="d-flex justify-content-between"><a class=text-reset href=https://blog.enaium.cn/post/2021-7-19-netty-http%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/>Netty Http服务器接收请求</a>
<a class=text-reset href=https://blog.enaium.cn/post/2022-2-28-%E5%AE%9E%E7%8E%B0jpanel%E5%88%87%E6%8D%A2/>实现JPanel切换</a></div></div></div></div></div><footer class="p-5 bg-dark text-white text-center"><div class=container><p class=lead>Copyright &copy; 2024 Enaium</p></div></footer><script src=/js/bootstrap.bundle.min.js></script></body></html>